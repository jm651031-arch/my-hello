<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>å¤¥ä¼´çš„å°ˆæ³¨ç©ºé–“ ğŸ””</title>
<script>
    let timeLeft = 25 * 60; 
    let timerId = null;
    const timerDisplay = document.getElementById('timer');
    const startBtn = document.getElementById('startBtn');
    const testBtn = document.getElementById('testBtn');
    const statusMsg = document.getElementById('statusMsg');
    const bell = document.getElementById('bellSound');

    function updateDisplay() {
        const mins = Math.floor(timeLeft / 60);
        const secs = timeLeft % 60;
        timerDisplay.textContent = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    }

    testBtn.onclick = () => {
        bell.play();
        statusMsg.textContent = "è½åˆ°äº†å—ï¼Ÿé€™å°±æ˜¯ä»»å‹™å®Œæˆçš„è²éŸ³ï¼";
    };

    startBtn.onclick = () => {
        // âœ¨ ç§˜è¨£ï¼šé»æ“Šé–‹å§‹æ™‚ï¼Œå…ˆè¼•è¼•è§¸ç¢°æ’­æ”¾å™¨ï¼Œå–å¾—æˆæ¬Š
        bell.play().then(() => {
            bell.pause();
            bell.currentTime = 0;
        }).catch(e => console.log("æˆæ¬Šé æ¼”å¤±æ•—"));

        if (timerId) {
            clearInterval(timerId);
            timerId = null;
            startBtn.textContent = "é–‹å§‹å°ˆæ³¨";
            statusMsg.textContent = "æš«åœä¸­ã€‚";
        } else {
            statusMsg.textContent = "æ­£åœ¨å°ˆæ³¨ä¸­... å¤¥ä¼´åŠ æ²¹ï¼";
            startBtn.textContent = "æš«åœ";
            timerId = setInterval(() => {
                timeLeft--;
                updateDisplay();
                if (timeLeft <= 0) {
                    clearInterval(timerId);
                    timerId = null;
                    
                    // ğŸ”” æ­£å¼æ’­æ”¾éˆ´è²
                    bell.play().catch(e => alert("è«‹å…ˆé»æ“Šé é¢ï¼Œéˆ´è²æ‰èƒ½é‹ä½œï¼"));
                    
                    statusMsg.textContent = "âœ¨ ä»»å‹™å®Œæˆï¼å¦³çœŸæ£’ï¼ âœ¨";
                    alert("æ™‚é–“åˆ°ï¼è½è½çœ‹é€™æ¬¡æœ‰æ²’æœ‰éˆ´è²ï¼Ÿ");
                    
                    timeLeft = 25 * 60; 
                    updateDisplay();
                    startBtn.textContent = "å†é–‹å§‹ä¸€æ®µ";
                }
            }, 1000);
        }
    };
</script>
</body>
</html>